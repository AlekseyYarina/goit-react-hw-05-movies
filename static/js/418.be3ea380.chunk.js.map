{"version":3,"file":"static/js/418.be3ea380.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MoviesDetailsPage.module.css?90e2","pages/MoviesDetailsPage.jsx","servises/api.js","utils/constants.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"navlink\":\"MoviesDetailsPage_navlink__tsioZ\",\"active\":\"MoviesDetailsPage_active__e4iuv\",\"linkGoBack\":\"MoviesDetailsPage_linkGoBack__xWTJZ\"};","import React, { useEffect, useState, useRef, lazy, Suspense } from 'react';\nimport {\n  Link,\n  NavLink,\n  Route,\n  Routes,\n  useParams,\n  useLocation,\n} from 'react-router-dom';\n\nimport { requestMovieById } from 'servises/api';\nimport { STATUSES } from 'utils/constants';\nimport { Loader } from 'components/Loader/Loader';\nimport css from './MoviesDetailsPage.module.css';\n\nconst Cast = lazy(() => import('../components/Cast/Cast'));\nconst Reviews = lazy(() => import('../components/Reviewes/Reviewes'));\n\nconst MoviesDetailsPage = () => {\n  const { id } = useParams();\n  const location = useLocation();\n  const backLinkRef = useRef(location.state?.from ?? '/movies');\n  const [status, setStatus] = useState(STATUSES.idle);\n  const [error, setError] = useState(null);\n  const [movieDetails, setMovieDetails] = useState(null);\n\n  useEffect(() => {\n    const fetchMovieDetails = async () => {\n      try {\n        setStatus(STATUSES.pending);\n        const data = await requestMovieById(id);\n\n        setMovieDetails(data);\n        setStatus(STATUSES.success);\n      } catch (error) {\n        setError(error.message);\n        setStatus(STATUSES.error);\n      }\n    };\n\n    fetchMovieDetails();\n  }, [id]);\n\n  return (\n    <div>\n      {status === STATUSES.pending && <Loader />}\n      {status === STATUSES.success && (\n        <div>\n          <Link className={css.linkGoBack} to={backLinkRef.current}>\n            Go back\n          </Link>\n          <img\n            alt={movieDetails.title || movieDetails.name}\n            src={`https://media.themoviedb.org/t/p/w440_and_h660_face/${\n              movieDetails.backdrop_path || '/no_image_available.jpg'\n            }`}\n            width=\"200\"\n            height=\"300\"\n          />\n          <h3>{movieDetails.title || movieDetails.name}</h3>\n          <p>User Score: {Math.round(movieDetails.vote_average * 10)}%</p>\n          <h4>Overview</h4>\n          <p>{movieDetails.overview}</p>\n          <h4>Genres</h4>\n          <p>{movieDetails.genres.map(genre => genre.name).join(', ')}</p>\n        </div>\n      )}\n\n      {status === STATUSES.error && <p>Error: {error}</p>}\n      <h3>Additional information</h3>\n\n      <NavLink\n        className={({ isActive }) =>\n          `${css.navlink} ${isActive ? css.active : ''}`\n        }\n        to=\"cast\"\n      >\n        Cast\n      </NavLink>\n\n      <NavLink\n        className={({ isActive }) =>\n          `${css.navlink} ${isActive ? css.active : ''}`\n        }\n        to=\"reviews\"\n      >\n        Reviews\n      </NavLink>\n      <div>\n        <Suspense fallback={<Loader />}>\n          <Routes>\n            <Route path=\"cast\" element={<Cast />} />\n            <Route path=\"reviews\" element={<Reviews />} />\n          </Routes>\n        </Suspense>\n      </div>\n    </div>\n  );\n};\n\nexport default MoviesDetailsPage;\n","import axios from 'axios';\n\nconst API_KEY = 'e065dfec6f2e6d76c57b93ce16d955ed';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst options = {\n  api_key: API_KEY,\n  AUTH_TOKEN:\n    'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlMDY1ZGZlYzZmMmU2ZDc2YzU3YjkzY2UxNmQ5NTVlZCIsInN1YiI6IjY1YTkzOGMyZDRhNjhiMDEzNmRjZjUxZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.tauyXFwNT9oons4hS9WveRHTZQkJhDEkLRhMB19ofcY',\n};\naxios.defaults.headers.common['Authorization'] = options.AUTH_TOKEN;\n\nexport const requestTrendingMovies = async () => {\n  try {\n    const { data } = await axios.get(`${BASE_URL}/trending/movie/day`);\n    return data.results;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const requestMovieById = async movieId => {\n  try {\n    const { data } = await axios.get(`${BASE_URL}/movie/${movieId}`);\n    return data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const requestMovieCast = async id => {\n  try {\n    const { data } = await axios.get(`${BASE_URL}/movie/${id}/credits`);\n    return data;\n  } catch (error) {\n    console.error('Error fetching movie credits:', error);\n    throw error;\n  }\n};\n\nexport const requestMovieReviews = async id => {\n  try {\n    const { data } = await axios.get(`${BASE_URL}/movie/${id}/reviews`);\n    return data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const requestSearchMovies = async searchTerm => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/search/movie?query=${searchTerm}`\n    );\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n","export const STATUSES = {\n  idle: 'idle',\n  pending: 'pending',\n  success: 'success',\n  error: 'error',\n};\n"],"names":["Cast","lazy","Reviews","_location$state$from","_location$state","id","useParams","location","useLocation","backLinkRef","useRef","state","from","_useState","useState","STATUSES","_useState2","_slicedToArray","status","setStatus","_useState3","_useState4","error","setError","_useState5","_useState6","movieDetails","setMovieDetails","useEffect","fetchMovieDetails","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","requestMovieById","sent","t0","message","stop","apply","arguments","_jsxs","children","_jsx","Loader","Link","className","css","to","current","alt","title","name","src","concat","backdrop_path","width","height","Math","round","vote_average","overview","genres","map","genre","join","NavLink","_ref2","isActive","_ref3","Suspense","fallback","Routes","Route","path","element","BASE_URL","options","axios","requestTrendingMovies","_yield$axios$get","abrupt","results","console","_callee2","movieId","_yield$axios$get2","_context2","_x","requestMovieCast","_callee3","_yield$axios$get3","_context3","_x2","requestMovieReviews","_ref4","_callee4","_yield$axios$get4","_context4","_x3","requestSearchMovies","_ref5","_callee5","searchTerm","response","_context5","_x4","idle","pending","success"],"sourceRoot":""}