{"version":3,"file":"static/js/524.80caf878.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/SearchMoviePage/SearchMoviePage.module.css?ef40","pages/SearchMoviePage/SearchMoviePage.jsx","servises/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"linkMovie\":\"SearchMoviePage_linkMovie__ufJiK\"};","import React, { useCallback, useEffect, useState } from 'react';\nimport { requestSearchMovies } from '../../servises/api';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport css from './SearchMoviePage.module.css';\n\nconst SearchMoviePage = () => {\n  const [searchResults, setSearchResults] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const location = useLocation();\n\n  const query = searchParams.get('sQuery');\n\n  const handleSearch = useCallback(async () => {\n    try {\n      const searchResultData = await requestSearchMovies(query);\n      setSearchResults(searchResultData);\n    } catch (error) {\n      console.error('Error fetching search results:', error);\n    }\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const query = e.target.query.value.toLowerCase().trim();\n    if (!query) return;\n    setSearchParams({\n      sQuery: query,\n    });\n  };\n\n  useEffect(() => {\n    if (query) {\n      handleSearch();\n    }\n  }, [query, handleSearch]);\n\n  return (\n    <div>\n      <h2>Search Movies</h2>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" name=\"query\" defaultValue={query} required />\n        <button type=\"submit\">Search</button>\n      </form>\n\n      {query &&\n      searchResults &&\n      searchResults.results &&\n      searchResults.results.length > 0 ? (\n        <ul>\n          {searchResults.results.map(movie => (\n            <li className={css.linkMovie} key={movie.id}>\n              <Link\n                className={css.linkMovie}\n                state={{ from: location }}\n                to={`/movies/${movie.id}`}\n              >\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        query && <p>Sorry, no search results, please change your request.</p>\n      )}\n    </div>\n  );\n};\n\nexport default SearchMoviePage;\n","import axios from 'axios';\n\nconst API_KEY = 'e065dfec6f2e6d76c57b93ce16d955ed';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst options = {\n  api_key: API_KEY,\n  AUTH_TOKEN:\n    'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlMDY1ZGZlYzZmMmU2ZDc2YzU3YjkzY2UxNmQ5NTVlZCIsInN1YiI6IjY1YTkzOGMyZDRhNjhiMDEzNmRjZjUxZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.tauyXFwNT9oons4hS9WveRHTZQkJhDEkLRhMB19ofcY',\n};\naxios.defaults.headers.common['Authorization'] = options.AUTH_TOKEN;\n\nexport const requestTrendingMovies = async () => {\n  try {\n    const { data } = await axios.get(`${BASE_URL}/trending/movie/day`);\n    return data.results;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const requestMovieById = async movieId => {\n  try {\n    const { data } = await axios.get(`${BASE_URL}/movie/${movieId}`);\n    return data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const requestMovieCast = async id => {\n  try {\n    const { data } = await axios.get(`${BASE_URL}/movie/${id}/credits`);\n    return data;\n  } catch (error) {\n    console.error('Error fetching movie credits:', error);\n    throw error;\n  }\n};\n\nexport const requestMovieReviews = async id => {\n  try {\n    const { data } = await axios.get(`${BASE_URL}/movie/${id}/reviews`);\n    return data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const requestSearchMovies = async searchTerm => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/search/movie?query=${searchTerm}`\n    );\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const getPoster = url =>\n  url\n    ? `https://media.themoviedb.org/t/p/w440_and_h660_face/${url}`\n    : 'https://fakeimg.pl/400x600?text=No+image&font=bebas';\n\nexport const getProfileImg = url =>\n  url\n    ? `https://image.tmdb.org/t/p/w200${url}`\n    : 'https://fakeimg.pl/400x600?text=No+image&font=bebas';\n"],"names":["_useState","useState","_useState2","_slicedToArray","searchResults","setSearchResults","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","location","useLocation","query","get","handleSearch","useCallback","_asyncToGenerator","_regeneratorRuntime","_callee","searchResultData","_context","prev","next","requestSearchMovies","sent","t0","console","error","stop","useEffect","_jsxs","children","_jsx","onSubmit","e","preventDefault","target","value","toLowerCase","trim","sQuery","type","name","defaultValue","required","results","length","map","movie","className","css","Link","state","from","to","concat","id","title","BASE_URL","options","axios","requestTrendingMovies","_ref","_yield$axios$get","data","abrupt","apply","arguments","requestMovieById","_ref2","_callee2","movieId","_yield$axios$get2","_context2","_x","requestMovieCast","_ref3","_callee3","_yield$axios$get3","_context3","_x2","requestMovieReviews","_ref4","_callee4","_yield$axios$get4","_context4","_x3","_ref5","_callee5","searchTerm","response","_context5","_x4","getPoster","url","getProfileImg"],"sourceRoot":""}