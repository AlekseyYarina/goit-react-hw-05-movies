{"version":3,"file":"static/js/217.1ed7d0f3.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MoviesDetailsPage/MoviesDetailsPage.module.css?2b2a","pages/MoviesDetailsPage/MoviesDetailsPage.jsx","servises/api.js","utils/constants.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"navlink\":\"MoviesDetailsPage_navlink__wyVuI\",\"active\":\"MoviesDetailsPage_active__nvdT6\",\"linkGoBack\":\"MoviesDetailsPage_linkGoBack__zpSqq\",\"line\":\"MoviesDetailsPage_line__cSaE0\"};","import React, { useEffect, useState, useRef, lazy, Suspense } from 'react';\nimport {\n  Link,\n  NavLink,\n  Route,\n  Routes,\n  useParams,\n  useLocation,\n} from 'react-router-dom';\n\nimport { getPoster, requestMovieById } from 'servises/api';\nimport { STATUSES } from 'utils/constants';\nimport { Loader } from 'components/Loader/Loader';\nimport css from './MoviesDetailsPage.module.css';\n\nconst Cast = lazy(() => import('../../components/Cast/Cast'));\nconst Reviews = lazy(() => import('../../components/Reviewes/Reviewes'));\n\nconst MoviesDetailsPage = () => {\n  const { id } = useParams();\n  const location = useLocation();\n  const backLinkRef = useRef(location.state?.from ?? '/movies');\n  const [status, setStatus] = useState(STATUSES.idle);\n  const [error, setError] = useState(null);\n  const [movieDetails, setMovieDetails] = useState(null);\n\n  useEffect(() => {\n    const fetchMovieDetails = async () => {\n      try {\n        setStatus(STATUSES.pending);\n        const data = await requestMovieById(id);\n\n        setMovieDetails(data);\n        setStatus(STATUSES.success);\n      } catch (error) {\n        setError(error.message);\n        setStatus(STATUSES.error);\n      }\n    };\n\n    fetchMovieDetails();\n  }, [id]);\n\n  return (\n    <div>\n      {status === STATUSES.pending && <Loader />}\n      {status === STATUSES.success && (\n        <div>\n          <Link className={css.linkGoBack} to={backLinkRef.current}>\n            Go back\n          </Link>\n          <img\n            alt={movieDetails.title || movieDetails.name}\n            src={getPoster(movieDetails.poster_path)}\n            width=\"200\"\n            height=\"300\"\n          />\n          <h3>{movieDetails.title || movieDetails.name}</h3>\n          <p>User Score: {Math.round(movieDetails.vote_average * 10)}%</p>\n          <h4>Overview</h4>\n          <p>{movieDetails.overview}</p>\n          <h4>Genres</h4>\n          <p>{movieDetails.genres.map(genre => genre.name).join(', ')}</p>\n          <div className={css.line}></div>\n        </div>\n      )}\n\n      {status === STATUSES.error && <p>Error: {error}</p>}\n      <h3>Additional information</h3>\n\n      <NavLink\n        className={({ isActive }) =>\n          `${css.navlink} ${isActive ? css.active : ''}`\n        }\n        to=\"cast\"\n      >\n        Cast\n      </NavLink>\n\n      <NavLink\n        className={({ isActive }) =>\n          `${css.navlink} ${isActive ? css.active : ''}`\n        }\n        to=\"reviews\"\n      >\n        Reviews\n      </NavLink>\n      <div>\n        <div className={css.line}></div>\n        <Suspense fallback={<Loader />}>\n          <Routes>\n            <Route path=\"cast\" element={<Cast />} />\n            <Route path=\"reviews\" element={<Reviews />} />\n          </Routes>\n        </Suspense>\n      </div>\n    </div>\n  );\n};\n\nexport default MoviesDetailsPage;\n","import axios from 'axios';\n\nconst API_KEY = 'e065dfec6f2e6d76c57b93ce16d955ed';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst options = {\n  api_key: API_KEY,\n  AUTH_TOKEN:\n    'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlMDY1ZGZlYzZmMmU2ZDc2YzU3YjkzY2UxNmQ5NTVlZCIsInN1YiI6IjY1YTkzOGMyZDRhNjhiMDEzNmRjZjUxZSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.tauyXFwNT9oons4hS9WveRHTZQkJhDEkLRhMB19ofcY',\n};\naxios.defaults.headers.common['Authorization'] = options.AUTH_TOKEN;\n\nexport const requestTrendingMovies = async () => {\n  try {\n    const { data } = await axios.get(`${BASE_URL}/trending/movie/day`);\n    return data.results;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const requestMovieById = async movieId => {\n  try {\n    const { data } = await axios.get(`${BASE_URL}/movie/${movieId}`);\n    return data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const requestMovieCast = async id => {\n  try {\n    const { data } = await axios.get(`${BASE_URL}/movie/${id}/credits`);\n    return data;\n  } catch (error) {\n    console.error('Error fetching movie credits:', error);\n    throw error;\n  }\n};\n\nexport const requestMovieReviews = async id => {\n  try {\n    const { data } = await axios.get(`${BASE_URL}/movie/${id}/reviews`);\n    return data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const requestSearchMovies = async searchTerm => {\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/search/movie?query=${searchTerm}`\n    );\n    return response.data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const getPoster = url =>\n  url\n    ? `https://media.themoviedb.org/t/p/w440_and_h660_face/${url}`\n    : 'https://fakeimg.pl/400x600?text=No+image&font=bebas';\n\nexport const getProfileImg = url =>\n  url\n    ? `https://image.tmdb.org/t/p/w200${url}`\n    : 'https://fakeimg.pl/400x600?text=No+image&font=bebas';\n","export const STATUSES = {\n  idle: 'idle',\n  pending: 'pending',\n  success: 'success',\n  error: 'error',\n};\n"],"names":["Cast","lazy","Reviews","_location$state$from","_location$state","id","useParams","location","useLocation","backLinkRef","useRef","state","from","_useState","useState","STATUSES","_useState2","_slicedToArray","status","setStatus","_useState3","_useState4","error","setError","_useState5","_useState6","movieDetails","setMovieDetails","useEffect","fetchMovieDetails","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","requestMovieById","sent","t0","message","stop","apply","arguments","_jsxs","children","_jsx","Loader","Link","className","css","to","current","alt","title","name","src","getPoster","poster_path","width","height","Math","round","vote_average","overview","genres","map","genre","join","NavLink","_ref2","isActive","concat","_ref3","Suspense","fallback","Routes","Route","path","element","BASE_URL","options","axios","requestTrendingMovies","_yield$axios$get","abrupt","results","console","_callee2","movieId","_yield$axios$get2","_context2","_x","requestMovieCast","_callee3","_yield$axios$get3","_context3","_x2","requestMovieReviews","_ref4","_callee4","_yield$axios$get4","_context4","_x3","requestSearchMovies","_ref5","_callee5","searchTerm","response","_context5","_x4","url","getProfileImg","idle","pending","success"],"sourceRoot":""}